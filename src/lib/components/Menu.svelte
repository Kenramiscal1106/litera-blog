<script lang="ts">
	import { modal, nav } from './store.svelte';
	import { fade, fly } from 'svelte/transition';
	import MenuItem from './MenuItem.svelte';
	import logo from '$lib/assets/logo.png';
</script>

<!-- svelte-ignore a11y_no_static_element_interactions -->
{#if nav.menuOpen}
	<div
		class="fixed left-0 top-0 z-40 h-full w-full max-w-64 gap-5 bg-neutral-50 px-2 py-5 sm:hidden"
		in:fly={{ duration: 225, x: -300 }}
		out:fly={{ duration: 225, x: -300 }}
	>
		<div class="flex justify-between px-2">
			<div>
				<div aria-label="home button">
					<img src={logo} alt="logo" class="h-9 w-auto" />
				</div>
			</div>
			<button onclick={() => nav.closeMenu()} aria-label="Close menu"
				><svg
					width="30"
					height="31"
					viewBox="0 0 30 31"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<path
						d="M7.5 23.2955L22.5 8.29553M7.5 8.29553L22.5 23.2955"
						class="stroke-neutral-800"
						stroke-width="1.875"
						stroke-linecap="round"
						stroke-linejoin="round"
					/>
				</svg>
			</button>
		</div>
		<div class="mt-5 flex flex-col gap-3">
			<MenuItem href="/blog" delay={50}>
				<div>
					<svg width="24" height="25" viewBox="0 0 24 25" xmlns="http://www.w3.org/2000/svg">
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M4.125 3.59103C3.08947 3.59103 2.25 4.4305 2.25 5.46603V18.591C2.25 20.2479 3.59315 21.591 5.25 21.591H20.25C18.5931 21.591 17.25 20.2479 17.25 18.591V5.46603C17.25 4.4305 16.4105 3.59103 15.375 3.59103H4.125ZM12 10.341C11.5858 10.341 11.25 10.6768 11.25 11.091C11.25 11.5052 11.5858 11.841 12 11.841H13.5C13.9142 11.841 14.25 11.5052 14.25 11.091C14.25 10.6768 13.9142 10.341 13.5 10.341H12ZM11.25 8.09103C11.25 7.67682 11.5858 7.34103 12 7.34103H13.5C13.9142 7.34103 14.25 7.67682 14.25 8.09103C14.25 8.50525 13.9142 8.84103 13.5 8.84103H12C11.5858 8.84103 11.25 8.50525 11.25 8.09103ZM6 13.341C5.58579 13.341 5.25 13.6768 5.25 14.091C5.25 14.5052 5.58579 14.841 6 14.841H13.5C13.9142 14.841 14.25 14.5052 14.25 14.091C14.25 13.6768 13.9142 13.341 13.5 13.341H6ZM5.25 17.091C5.25 16.6768 5.58579 16.341 6 16.341H13.5C13.9142 16.341 14.25 16.6768 14.25 17.091C14.25 17.5052 13.9142 17.841 13.5 17.841H6C5.58579 17.841 5.25 17.5052 5.25 17.091ZM6 7.34103C5.58579 7.34103 5.25 7.67682 5.25 8.09103V11.091C5.25 11.5052 5.58579 11.841 6 11.841H9C9.41421 11.841 9.75 11.5052 9.75 11.091V8.09103C9.75 7.67682 9.41421 7.34103 9 7.34103H6Z"
						/>
						<path
							d="M18.75 7.34103H20.625C21.2463 7.34103 21.75 7.84471 21.75 8.46603V18.591C21.75 19.4195 21.0784 20.091 20.25 20.091C19.4216 20.091 18.75 19.4195 18.75 18.591V7.34103Z"
						/>
					</svg>
				</div>
				<div>Blog</div>
			</MenuItem>
			<MenuItem href="/contributors" delay={100}>
				<div>
					<svg width="24" height="25" viewBox="0 0 24 25" xmlns="http://www.w3.org/2000/svg">
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M8.25 7.34103C8.25 5.26997 9.92893 3.59103 12 3.59103C14.0711 3.59103 15.75 5.26997 15.75 7.34103C15.75 9.4121 14.0711 11.091 12 11.091C9.92893 11.091 8.25 9.4121 8.25 7.34103Z"
						/>
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M15.75 10.341C15.75 8.68418 17.0931 7.34103 18.75 7.34103C20.4069 7.34103 21.75 8.68418 21.75 10.341C21.75 11.9979 20.4069 13.341 18.75 13.341C17.0931 13.341 15.75 11.9979 15.75 10.341Z"
						/>
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M2.25 10.341C2.25 8.68418 3.59315 7.34103 5.25 7.34103C6.90685 7.34103 8.25 8.68418 8.25 10.341C8.25 11.9979 6.90685 13.341 5.25 13.341C3.59315 13.341 2.25 11.9979 2.25 10.341Z"
						/>
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M6.30986 15.7086C7.50783 13.8354 9.60835 12.591 12 12.591C14.3919 12.591 16.4927 13.8357 17.6906 15.7092C18.5187 17.0045 18.877 18.5662 18.709 20.089C18.6827 20.3269 18.5444 20.5381 18.3368 20.6572C16.4694 21.7287 14.3051 22.341 12 22.341C9.69492 22.341 7.53059 21.7287 5.66325 20.6572C5.45559 20.538 5.3173 20.3269 5.29103 20.089C5.12293 18.5659 5.48141 17.0039 6.30986 15.7086Z"
						/>
						<path
							d="M5.08228 14.8447C5.07024 14.8632 5.05827 14.8818 5.04638 14.9004C4.08091 16.4099 3.63908 18.2077 3.77471 19.98C3.16667 19.8877 2.5767 19.7391 2.01043 19.5397L1.89547 19.4992C1.68576 19.4254 1.53923 19.2349 1.52159 19.0133L1.51192 18.8918C1.50402 18.7924 1.5 18.6921 1.5 18.591C1.5 16.5762 3.08905 14.9324 5.08228 14.8447Z"
						/>
						<path
							d="M20.2256 19.98C20.3612 18.208 19.9196 16.4106 18.9545 14.9012C18.9424 14.8823 18.9303 14.8635 18.9181 14.8447C20.9111 14.9326 22.5 16.5763 22.5 18.591C22.5 18.6921 22.496 18.7924 22.4881 18.8918L22.4784 19.0133C22.4608 19.2349 22.3142 19.4254 22.1045 19.4992L21.9896 19.5397C21.4234 19.7391 20.8336 19.8876 20.2256 19.98Z"
						/>
					</svg>
				</div>
				<div>Contributors</div>
			</MenuItem>
			<MenuItem delay={200} type="button" onclick={() => modal.openModal()}>
				<div>
					<svg width="24" height="25" viewBox="0 0 24 25" xmlns="http://www.w3.org/2000/svg">
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M4.84836 3.36204C7.18302 3.01876 9.57113 2.84103 12.0003 2.84103C14.4292 2.84103 16.8171 3.01873 19.1516 3.36195C21.1299 3.6528 22.5 5.38548 22.5 7.33159V13.3505C22.5 15.2966 21.1299 17.0293 19.1516 17.3201C18.0054 17.4886 16.8464 17.6173 15.6759 17.7045C15.5514 17.7138 15.4431 17.7785 15.379 17.8746L12.624 22.0071C12.4849 22.2157 12.2508 22.341 12 22.341C11.7492 22.341 11.5151 22.2157 11.376 22.0071L8.62092 17.8745C8.5569 17.7785 8.44853 17.7137 8.32408 17.7045C7.15358 17.6172 5.99452 17.4885 4.84836 17.32C2.87004 17.0291 1.5 15.2965 1.5 13.3504V7.33168C1.5 5.38558 2.87004 3.65292 4.84836 3.36204ZM6.75 8.84103C6.75 8.42682 7.08579 8.09103 7.5 8.09103H16.5C16.9142 8.09103 17.25 8.42682 17.25 8.84103C17.25 9.25525 16.9142 9.59103 16.5 9.59103H7.5C7.08579 9.59103 6.75 9.25525 6.75 8.84103ZM7.5 11.091C7.08579 11.091 6.75 11.4268 6.75 11.841C6.75 12.2552 7.08579 12.591 7.5 12.591H12C12.4142 12.591 12.75 12.2552 12.75 11.841C12.75 11.4268 12.4142 11.091 12 11.091H7.5Z"
						/>
					</svg>
				</div>
				<div>Give Feedback</div>
			</MenuItem>
			<MenuItem type="link" href={'https://github.com/Kenramiscal1106/litera-blog'} delay={250}>
				<div>
					<svg width="25" height="24" viewBox="0 0 25 24" xmlns="http://www.w3.org/2000/svg">
						<path
							fill-rule="evenodd"
							clip-rule="evenodd"
							d="M12.8067 0C6.05299 0 0.593262 5.49998 0.593262 12.3042C0.593262 17.7432 4.0915 22.3472 8.94448 23.9767C9.55122 24.0991 9.77347 23.7119 9.77347 23.3862C9.77347 23.1009 9.75347 22.1232 9.75347 21.1044C6.35599 21.8379 5.64849 19.6377 5.64849 19.6377C5.10249 18.2117 4.2935 17.8452 4.2935 17.8452C3.1815 17.0914 4.3745 17.0914 4.3745 17.0914C5.60799 17.1729 6.25524 18.3544 6.25524 18.3544C7.34698 20.2284 9.10623 19.6989 9.81397 19.3729C9.91497 18.5784 10.2387 18.0284 10.5825 17.7229C7.87273 17.4377 5.02174 16.3784 5.02174 11.6522C5.02174 10.3077 5.50674 9.20771 6.27524 8.35222C6.15399 8.04672 5.72924 6.78347 6.39674 5.09273C6.39674 5.09273 7.42798 4.76673 9.75322 6.35572C10.7487 6.08639 11.7754 5.94938 12.8067 5.94823C13.838 5.94823 14.8892 6.09097 15.86 6.35572C18.1854 4.76673 19.2167 5.09273 19.2167 5.09273C19.8842 6.78347 19.4592 8.04672 19.3379 8.35222C20.1267 9.20771 20.5917 10.3077 20.5917 11.6522C20.5917 16.3784 17.7407 17.4172 15.0107 17.7229C15.4557 18.1099 15.8397 18.8432 15.8397 20.0044C15.8397 21.6544 15.8197 22.9787 15.8197 23.3859C15.8197 23.7119 16.0422 24.0991 16.6487 23.9769C21.5017 22.3469 24.9999 17.7432 24.9999 12.3042C25.0199 5.49998 19.5402 0 12.8067 0Z"
						/>
					</svg>
				</div>
				<div>Github</div>
			</MenuItem>
		</div>
	</div>
	<!-- svelte-ignore a11y_click_events_have_key_events -->
	<div
		transition:fade={{ duration: 175 }}
		class="fixed left-0 top-0 z-30 h-screen w-screen bg-neutral-800 bg-opacity-40 sm:hidden"
		onclick={() => nav.closeMenu()}
	></div>
{/if}
